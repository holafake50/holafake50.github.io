function BotDetector(t){var i=this;i.isBot=!1,i.tests={};var e=t.tests||[];0!=e.length&&-1==e.indexOf(BotDetector.Tests.SCROLL)||(i.tests[BotDetector.Tests.SCROLL]=function(){var t=function(){i.tests[BotDetector.Tests.SCROLL]=!0,i.update(),i.unbindEvent(window,BotDetector.Tests.SCROLL,t),i.unbindEvent(document,BotDetector.Tests.SCROLL,t)};i.bindEvent(window,BotDetector.Tests.SCROLL,t),i.bindEvent(document,BotDetector.Tests.SCROLL,t)}),0!=e.length&&-1==e.indexOf(BotDetector.Tests.MOUSE)||(i.tests[BotDetector.Tests.MOUSE]=function(){var t=function(){i.tests[BotDetector.Tests.MOUSE]=!0,i.update(),i.unbindEvent(window,BotDetector.Tests.MOUSE,t)};i.bindEvent(window,BotDetector.Tests.MOUSE,t)}),0!=e.length&&-1==e.indexOf(BotDetector.Tests.KEYUP)||(i.tests[BotDetector.Tests.KEYUP]=function(){var t=function(){i.tests[BotDetector.Tests.KEYUP]=!0,i.update(),i.unbindEvent(window,BotDetector.Tests.KEYUP,t)};i.bindEvent(window,BotDetector.Tests.KEYUP,t)}),0!=e.length&&-1==e.indexOf(BotDetector.Tests.SWIPE)||(i.tests[BotDetector.Tests.SWIPE_TOUCHSTART]=function(){i.bindEvent(document,BotDetector.Tests.SWIPE_TOUCHSTART)}),0!=e.length&&-1==e.indexOf(BotDetector.Tests.DEVICE_MOTION)||(i.tests[BotDetector.Tests.DEVICE_MOTION]=function(){var a=function(t){if(t.rotationRate.alpha||t.rotationRate.beta||t.rotationRate.gamma){var e=-1!=navigator.userAgent.toLowerCase().indexOf("android"),o=e?t.rotationRate.beta:10*Math.round(t.rotationRate.beta/10),s=e?t.rotationRate.gamma:10*Math.round(t.rotationRate.gamma/10);if(i.lastRotationData){var n=o!=i.lastRotationData.beta||s!=i.lastRotationData.gamma;e&&(n=n&&(.2<o||.2<s));i.tests[BotDetector.Tests.DEVICE_MOTION]=n,i.update(),n&&i.unbindEvent(window,BotDetector.Tests.DEVICE_MOTION,a)}else i.lastRotationData={beta:o,gamma:s}}else i.tests[BotDetector.Tests.DEVICE_MOTION]=!1};i.bindEvent(window,BotDetector.Tests.DEVICE_MOTION,a)}),0!=e.length&&-1==e.indexOf(BotDetector.Tests.DEVICE_ORIENTATION)||(i.tests[BotDetector.Tests.DEVICE_ORIENTATION]=function(){i.bindEvent(window,BotDetector.Tests.DEVICE_ORIENTATION)}),0!=e.length&&-1==e.indexOf(BotDetector.Tests.DEVICE_ORIENTATION_MOZ)||(i.tests[BotDetector.Tests.DEVICE_ORIENTATION_MOZ]=function(){i.bindEvent(window,BotDetector.Tests.DEVICE_ORIENTATION_MOZ)}),i.cases={},i.timeout=t.timeout||1e3,i.callback=t.callback||null,i.detected=!1,i.callback(i)}BotDetector.Tests={KEYUP:"keyup",MOUSE:"mousemove",SWIPE:"swipe",SWIPE_TOUCHSTART:"touchstart",SWIPE_TOUCHMOVE:"touchmove",SWIPE_TOUCHEND:"touchend",SCROLL:"scroll",GESTURE:"gesture",GYROSCOPE:"gyroscope",DEVICE_MOTION:"devicemotion",DEVICE_ORIENTATION:"deviceorientation",DEVICE_ORIENTATION_MOZ:"MozOrientation"},BotDetector.prototype.update=function(t){var e=this,o=0,s=0;for(var n in e.tests)e.tests.hasOwnProperty(n)&&(e.cases[n]=!0===e.tests[n],!0===e.cases[n]&&o++),s++;e.isBot=0==o,e.allMatched=o==s,!1!==t&&e.callback(e)},BotDetector.prototype.bindEvent=function(t,e,o){t.addEventListener?t.addEventListener(e,o,!1):t.attachEvent&&t.attachEvent("on"+e,o)},BotDetector.prototype.unbindEvent=function(t,e,o){if(t.removeEventListener)t.removeEventListener(e,o,!1);else{var s="on"+e;t.detachEvent&&(void 0===t[s]&&(t[e]=null),t.detachEvent(s))}},BotDetector.prototype.monitor=function(){var t=this;for(var e in this.tests)this.tests.hasOwnProperty(e)&&this.tests[e].call();this.update(!1),setTimeout(function(){t.update(!0)},t.timeout)};